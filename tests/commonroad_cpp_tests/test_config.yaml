# simulation parameters for predicate evaluation
###
# .. code-block:: yaml
#
#    - evaluation_mode: directory
#    - ego_vehicle_id: ego vehicle ID
#    - benchmark_id: CommonRoad solution file name
#    - directories: directories in which CommonRoad scenarios are located
#    - performance_measurement: activate/deactivate computation time measuring
#    - operating_mode: specifies operating mode: either single_scenario, single_vehicle, directory, directory_single_vehicle
#    - output_directory: path to output directory of file to generate
#    - output_file_name: name and file type for to generate
simulation_param:
  evaluation_mode: single_scenario
  ego_vehicle_id: 0
  benchmark_id: DEU_test_safe_distance
  directories: [ "../tests/scenarios/predicates/" ]
  performance_measurement: true
  operating_mode: boolean # one of boolean, constraint, robustness
  output_directory: "./"
  output_file_name: "predicate_satisfaction.txt"

# parameters for predicate evaluation
###
# .. code-block:: yaml
#
#    - predicate_category: lists with names of predicates belonging to group
#    - relevant_predicate_sets: predicate categories which should be evaluated
predicate_eval:
  predicate_category:
    intersection: ["in_intersection_main_area", "at_red_traffic_light", "at_red_straight_traffic_light",
                   "at_red_left_traffic_light", "at_red_right_traffic_light", "stop_line_in_front"]
    general: ["keeps_safe_distance_prec", "unnecessary_braking", "in_front_of", "in_same_lane",
              "keeps_lane_speed_limit", "preserves_traffic_flow", "keeps_sign_min_speed_limit", "slow_leading_vehicle",
              "orientation_towards", "lane_based_orientation_similar", "in_single_lane", "in_standstill",
              "passes_stop_line"]
    test: ["keeps_safe_distance_prec"]
  relevant_predicate_sets: [test]

# Ego vehicle parameters
###
# .. code-block:: yaml
#
#    - vehicle_number: CommonRoad vehicle number; possible options are 1, 2 or 3 (see CommonRoad vehicle models)
#    - a_max: maximum acceleration of ego vehicle
#    - a_min: minimum acceleration of ego vehicle
#    - j_max: maximum jerk of ego vehicle
#    - j_min: minimum jerk of ego vehicle
#    - v_des: desired velocity of ego vehicle
#    - t_react: reaction time of ego vehicle
#    - dynamics_param: physical parameters of ego vehicle; will be initialized during runtime
#    - fov: field of view (sensor range)
#    - v_min: minimum allowed velocity considering vehicle dynamics
#    - const_dist_offset: minimum distance at standstill
#    - emergency_profile: emergency jerk profile
#    - emergency_profile_num_steps_fb: number of steps minimum jerk should be attended to emergency profile
#    - fov_speed_limit: speed limit based on field of view
#    - braking_speed_limit: speed limit to ensure comfortable braking within field of view
#    - road_condition_speed_limit: speed limit based on road conditions

ego_vehicle_param:
  vehicle_number: 2
  a_max: 3
  a_min: -10.0
  a_corr: 0.0
  j_max: 10
  j_min: -10
  v_des: 30
  t_react: 0.3
  dynamics_param: None
  fov: 200
  v_min: 0
  const_dist_offset: 0
  emergency_profile: [ ]
  emergency_profile_num_steps_fb: 200
  fov_speed_limit: 50 # compute with calc_v_max_fov(ego_vehicle_param, simulation_param)
  braking_speed_limit: 43 # compute with calc_v_max_braking(ego_vehicle_param, simulation_param, traffic_rule_param)
  road_condition_speed_limit: 50

# Other vehicle's parameters
###
# .. code-block:: yaml
#
#    - vehicle_number: CommonRoad vehicle number; possible options are 1, 2 or 3 (see CommonRoad vehicle models)
#    - v_max: maximum velocity of leading vehicle
#    - v_min: minimum velocity of leading vehicle
#    - a_max: maximum acceleration of leading vehicle
#    - a_min: minimum acceleration of leading vehicle
#    - j_max: maximum jerk of leading vehicle
#    - j_min: minimum jerk of leading vehicle
#    - t_react: reaction time of ego vehicle

other_vehicles_param:
  vehicle_number: 2
  v_max: 60
  v_min: 0
  a_max: 5
  a_min: -10.5
  j_max: 10
  j_min: -10
  t_react: 0.3 # for safe distance calculation of preceding vehicles
  dynamics_param: None  # TODO replace dynamics parameter with worst case behavior

